- defaults:
    link:
      create: true
      relink: true
      force: false

# Remove the dead symlimcs that point
# Somewhere in thre dotfiles directory
- clean:
    ~/:
      force: false
    ~/.config:
      recursive: true

- link:
    ~/.tmux.conf: tmux/tmux.conf
    ~/.tmate.conf: tmux/tmate.conf
    ~/.gitconfig: git/gitconfig
    ~/.sqliterc: sqlite/sqliterc
    ~/.zshrc: zsh/zshrc
    ~/.zprofile: zsh/zprofile

    ~/.config/alacritty/alacritty.yml: alacritty/alacritty.yml
    ~/.config/zsh: zsh/zsh
    ~/.config/nvim: nvim

    ~/Library/Preferences/FreeCAD/user.cfg:
      path: freecad/user.cfg
      if: '[ `uname` = Darwin ]'

    ~/Library/Preferences/com.googlecode.iterm2.plist:
      path: iterm/com.googlecode.iterm2.plist
      if: '[ `uname` = Darwin ]'

    ~/.config/karabiner/karabiner.json:
      path: karabiner/karabiner.json
      if: '[ `uname` = Darwin ]'


- shell:
  - ['git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm', 'Installing tpm'] # tmux plugin manager

  - ['python3 -m pip install --user --upgrade pynvim'] # pynvim for python provider in nvim
  - ['git clone --depth 1 https://github.com/wbthomason/packer.nvim\ ~/.local/share/nvim/site/pack/packer/start/packer.nvim', 'Installing packer'] # neovim plugin manager

  - ['curl -sL --proto-redir -all,https https://raw.githubusercontent.com/zplug/installer/master/installer.zsh | zsh', 'Installing zplug'] # zsh plugin manager
  - ['sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"', 'Installing ohmyzsh'] # OhMyZSH
